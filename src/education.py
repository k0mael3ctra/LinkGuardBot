from __future__ import annotations

QUIZ = [
    {
        "question": "Что лучше сделать, если пришла ссылка от незнакомца?",
        "options": [
            "Открыть сразу, чтобы узнать, что там.",
            "Проверить адрес, навести мышью и подумать, ожидаешь ли ты это.",
            "Переслать другу, чтобы он проверил.",
        ],
        "correct": 1,
        "explain": "Безопаснее проверить адрес и контекст, а не открывать сразу.",
    },
    {
        "question": "Почему длинные ссылки с кучей поддоменов могут быть рискованными?",
        "options": [
            "Это всегда фишинг.",
            "Так могут маскировать настоящий домен.",
            "Они просто медленно открываются.",
        ],
        "correct": 1,
        "explain": "Много поддоменов могут скрывать, где настоящий сайт.",
    },
    {
        "question": "Что означает символ @ в URL?",
        "options": [
            "Адрес электронной почты.",
            "Все до @ может быть подставкой, а реально откроется часть после @.",
            "Это всегда безопасный знак.",
        ],
        "correct": 1,
        "explain": "Браузер игнорирует часть до @, что может вводить в заблуждение.",
    },
    {
        "question": "Почему HTTPS важен?",
        "options": [
            "Он шифрует данные между браузером и сайтом.",
            "Он делает сайт быстрее.",
            "Он гарантирует, что сайт честный.",
        ],
        "correct": 0,
        "explain": "HTTPS защищает данные в пути, но не гарантирует честность сайта.",
    },
    {
        "question": "Что делать, если сайт просит пароль по ссылке из письма?",
        "options": [
            "Перейти по ссылке и ввести пароль.",
            "Открыть сайт вручную из закладки или набрать адрес самому.",
            "Отправить пароль в ответ на письмо.",
        ],
        "correct": 1,
        "explain": "Лучше открывать сайт вручную, не доверяя ссылке из письма.",
    },
]

TIPS = [
    "Проверяй домен: мелкие подмены часто скрываются в длинном адресе.",
    "Не кликай по ссылкам из неожиданных сообщений без проверки.",
    "Если что-то срочно просят, остановись и перепроверь контекст.",
    "Открывай сайты из закладок или вручную набирай адрес.",
    "Сомневаешься - спроси у знакомого или официальной поддержки.",
]


def get_quiz_question(index: int) -> dict | None:
    if 0 <= index < len(QUIZ):
        return QUIZ[index]
    return None


def short_tips() -> list[str]:
    return TIPS[:3]


def tips_text() -> str:
    return "\n".join(f"- {tip}" for tip in TIPS)
